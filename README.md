# Домашнее задание к занятию 3 «Резервное копирование» - `Ильин Борис`


# Задание 1

    Составьте команду rsync, которая позволяет создавать зеркальную копию домашней директории пользователя в директорию /tmp/backup
    Необходимо исключить из синхронизации все директории, начинающиеся с точки (скрытые)
    Необходимо сделать так, чтобы rsync подсчитывал хэш-суммы для всех файлов, даже если их время модификации и размер идентичны в источнике и приемнике.
    На проверку направить скриншот с командой и результатом ее выполнения

## Задание 2

    Написать скрипт и настроить задачу на регулярное резервное копирование домашней директории пользователя с помощью rsync и cron.
    Резервная копия должна быть полностью зеркальной
    Резервная копия должна создаваться раз в день, в системном логе должна появляться запись об успешном или неуспешном выполнении операции
    Резервная копия размещается локально, в директории /tmp/backup
    На проверку направить файл crontab и скриншот с результатом работы утилиты.
# Решение


# Задание 1 — зеркальная копия домашней директории

 Выполнил  синхронизацию домашней директории в "/tmp/backup" с условиями исключения скрытых директорий,
 пересчёт хэшей для сравнения,так же  и за ошибок  исключена директория

Команда
    mkdir -p /tmp/backup
    rsync -a --delete --checksum --exclude='/.*/' --exclude='/gitlab-hw/' "$HOME"/ /tmp/backup/
    echo "exit code: $?"


![Скриншот — Задание 1](screenshot.png)

# Задание 2 

   Создан скрипт backup_home.sh, который выполняет резервное копирование и пишет результат в системный лог.

   Добавлена ежедневная задача

    0 2 * * * /home/boris/backup_home.sh

   Вывод crontab в файл

![Файл crontab.txt](crontab.txt)

  Проверка логов

Bash
journalctl -t rsync-backup --since "15 minutes ago" --no-pager

![Скриншот — Задание 2](screenshot1.png)



